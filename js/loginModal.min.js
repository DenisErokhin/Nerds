const openLogin=document.querySelector(".contacts-button"),modalLogin=document.querySelector(".modal-email"),closeLogin=modalLogin.querySelector(".modal-close"),loginName=modalLogin.querySelector(".login-name"),loginEmail=modalLogin.querySelector(".login-email"),textField=modalLogin.querySelector(".login-text-field"),loginForm=modalLogin.querySelector(".login-form");let checkStorage=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){checkStorage=!1}openLogin.addEventListener("click",function(e){e.preventDefault(),modalLogin.classList.add("modal-active"),loginName.focus(),storage?(loginName.value=storage,loginEmail.focus()):loginName.focus()}),closeLogin.addEventListener("click",function(e){e.preventDefault(),modalLogin.classList.remove("modal-active"),modalLogin.classList.remove("modal-mistake")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalLogin.classList.contains("modal-active")&&(e.preventDefault(),modalLogin.classList.remove("modal-active"),modalLogin.classList.remove("modal-mistake"))}),loginForm.addEventListener("submit",function(e){loginName.value&&loginEmail.value&&textField.value?checkStorage&&localStorage.setItem("name",loginName.value):(e.preventDefault(),modalLogin.classList.remove("modal-mistake"),modalLogin.offsetWidth=modalLogin.offsetWidth,modalLogin.classList.add("modal-mistake"))});